(()=>{"use strict";class e{description;dueDate;isComplete;constructor(e,t,o){this.description=e,this.dueDate=t,this.isComplete=o}}let t={projectArr:[],addProject:function(e){t.projectArr.push(e)},removeProject:function(e){t.projectArr.splice(e,1)}};class o{title;toDoItems=[];constructor(e){this.title=e}addItem(e){this.toDoItems.push(e)}removeItem(e){this.toDoItems.splice(e,1)}}const r=document.querySelector("#listContent"),c=document.querySelector("#projects"),n=document.querySelector("#addProjectButton"),d=document.querySelector("#addToDoButton"),s=document.querySelector("#toDoAdder"),a=document.querySelector("#projectAdder"),i=e=>{r.innerHTML="";const o=t.projectArr[e].toDoItems;o.forEach((e=>{const t=document.createElement("div");t.classList.add("listItem");const c=document.createElement("input");c.setAttribute("type","checkbox"),c.checked=e.isComplete,e.isComplete&&t.classList.add("done");const n=document.createElement("div");n.classList.add("description"),n.textContent=e.description;const d=document.createElement("div");d.classList.add("dueDate"),d.textContent=`Due date: ${e.dueDate}`;const s=document.createElement("button");s.classList.add("itemDeleteButton"),s.textContent="X",t.append(c,n,d,s),t.dataset.indexNumber=o.indexOf(e),r.appendChild(t)})),l(e),u(e)},l=e=>{document.querySelectorAll(".itemDeleteButton").forEach((o=>{o.addEventListener("click",(()=>{t.projectArr[e].removeItem(o.parentElement.dataset.indexNumber),i(e)}))}))},u=e=>{document.querySelectorAll("input[type=checkbox]").forEach((o=>{o.addEventListener("click",(()=>{o.checked?t.projectArr[e].toDoItems[o.parentElement.dataset.indexNumber].isComplete=!0:t.projectArr[e].toDoItems[o.parentElement.dataset.indexNumber].isComplete=!1,i(e)}))}))},m=()=>{c.innerHTML="",t.projectArr.forEach((e=>{const o=document.createElement("div");o.classList.add("project");const r=document.createElement("button");r.classList.add("projectName"),r.textContent=e.title;const n=document.createElement("button");n.classList.add("projectDeleteButton"),n.innerText="X",o.append(r,n),o.dataset.indexNumber=t.projectArr.indexOf(e),c.appendChild(o)}))};let p=new e("Default list item","2022-06-30",!1),j=new o("Default Project");j.addItem(p),t.addProject(j),d.addEventListener("click",(()=>{const o=document.querySelector("#descriptionInput"),r=document.querySelector("#dueDateInput");if(!o.value||!r.value)return void alert("To add item to To Do List first you need to fill description form and set a due date!");let c=new e(o.value,r.value,!1);t.projectArr[0].addItem(c),s.reset(),i(0)})),i(0),m(),n.addEventListener("click",(()=>{const e=document.querySelector("#projectNameInput");if(!e.value)return void alert("To add project first you have to fill a form!");const r=new o(e.value);t.addProject(r),m(),a.reset()}))})();