(()=>{"use strict";class e{description;dueDate;isComplete;constructor(e,t,r){this.description=e,this.dueDate=t,this.isComplete=r}}let t={projectArr:[],addProject:function(e){t.projectArr.push(e)},removeProject:function(e){t.projectArr.splice(e,1)},currentProjectNumber:0};class r{title;toDoItems=[];constructor(e){this.title=e}addItem(e){this.toDoItems.push(e)}removeItem(e){this.toDoItems.splice(e,1)}}const o=document.querySelector("#listContent"),c=document.querySelector("#projects"),n=document.querySelector("#addProjectButton"),d=document.querySelector("#addToDoButton"),u=document.querySelector("#toDoAdder"),s=document.querySelector("#projectAdder"),a=()=>{o.innerHTML="";const e=t.projectArr[t.currentProjectNumber].toDoItems;e.forEach((t=>{const r=document.createElement("div");r.classList.add("listItem");const c=document.createElement("input");c.setAttribute("type","checkbox"),c.checked=t.isComplete,t.isComplete&&r.classList.add("done");const n=document.createElement("div");n.classList.add("description"),n.textContent=t.description;const d=document.createElement("div");d.classList.add("dueDate"),d.textContent=`Due date: ${t.dueDate}`;const u=document.createElement("button");u.classList.add("itemDeleteButton"),u.textContent="X",r.append(c,n,d,u),r.dataset.indexNumber=e.indexOf(t),o.appendChild(r)})),i(),l()},i=()=>{document.querySelectorAll(".itemDeleteButton").forEach((e=>{e.addEventListener("click",(()=>{t.projectArr[t.currentProjectNumber].removeItem(e.parentElement.dataset.indexNumber),a(t.currentProjectNumber)}))}))},l=()=>{document.querySelectorAll("input[type=checkbox]").forEach((e=>{e.addEventListener("click",(()=>{e.checked?t.projectArr[t.currentProjectNumber].toDoItems[e.parentElement.dataset.indexNumber].isComplete=!0:t.projectArr[t.currentProjectNumber].toDoItems[e.parentElement.dataset.indexNumber].isComplete=!1,a(t.currentProjectNumber)}))}))},m=()=>{c.innerHTML="",t.projectArr.forEach((e=>{const r=document.createElement("div");r.classList.add("project");const o=document.createElement("button");o.classList.add("projectName"),o.textContent=e.title;const n=document.createElement("button");n.classList.add("projectDeleteButton"),n.innerText="X",r.append(o,n),r.dataset.indexNumber=t.projectArr.indexOf(e),c.appendChild(r)}))},p=()=>{document.querySelectorAll(".projectName").forEach((e=>{e.addEventListener("click",(()=>{t.currentProjectNumber=e.parentElement.dataset.indexNumber,a(t.currentProjectNumber)}))}))};let j=new e("Default list item","2022-06-30",!1),b=new r("Default Project");b.addItem(j),t.addProject(b),d.addEventListener("click",(()=>{const r=document.querySelector("#descriptionInput"),o=document.querySelector("#dueDateInput");if(!r.value||!o.value)return void alert("To add item to To Do List first you need to fill description form and set a due date!");let c=new e(r.value,o.value,!1);t.projectArr[t.currentProjectNumber].addItem(c),u.reset(),a(t.currentProjectNumber)})),a(t.currentProjectNumber),m(),n.addEventListener("click",(()=>{const e=document.querySelector("#projectNameInput");if(!e.value)return void alert("To add project first you have to fill a form!");const o=new r(e.value);t.addProject(o),m(),s.reset(),p()})),p()})();